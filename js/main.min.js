const loaderControl={show:()=>{document.body.classList.add("modal-active");let modal_inner=document.querySelector(".modal-inner");modal_inner.style.transition="0s",modal_inner.innerHTML='\n                    <div class="modal-loader">\n                      <div class="modal-loader__dots">\n                        <div class="modal-loader__dots-dot"></div>\n                        <div class="modal-loader__dots-dot"></div>\n                        <div class="modal-loader__dots-dot"></div>\n                      </div>\n                    </div>',setTimeout(()=>{modal_inner.style.transition=""},50)},hide:()=>{document.body.classList.remove("modal-active");let modal_inner=document.querySelector(".modal-inner"),modal_overlay=document.querySelector(".modal__overlay");modal_overlay.style.transition="0s",setTimeout(()=>{modal_inner.innerHTML="",modal_overlay.style.transition=""},500)}};function getTransformCenterX(elementNode){const currentStyle=elementNode.getAttribute("style");elementNode.setAttribute("style","transform:translateX(0)");const bound=elementNode.getBoundingClientRect();return elementNode.setAttribute("style",currentStyle),window.innerWidth/2-(bound.x+bound.width/2)}function transformCenterX(elementNode){anime({targets:elementNode,translateX:0,duration:0});const bound=elementNode.getBoundingClientRect();anime({targets:elementNode,translateX:window.innerWidth/2-(bound.x+bound.width/2),duration:0})}function transformCenterY(elementNode){anime({targets:elementNode,translateY:0,duration:0});const bound=elementNode.getBoundingClientRect();elementNode.style.transform=`translateY(${window.innerHeight/2-(bound.y+bound.height/2)}px)`,anime({targets:elementNode,translateY:window.innerHeight/2-(bound.y+bound.height/2),duration:0})}function transformCenterXY(elementNode){anime({targets:elementNode,translateX:0,translateY:0,duration:0});const bound=elementNode.getBoundingClientRect();anime({targets:elementNode,translateX:window.innerWidth/2-(bound.x+bound.width/2),translateY:window.innerHeight/2-(bound.y+bound.height/2),duration:0})}function getTransformLeftScreen(elementNode){const currentStyle=elementNode.getAttribute("style");elementNode.setAttribute("style","transform:translateX(0)");const bound=elementNode.getBoundingClientRect();return elementNode.setAttribute("style",currentStyle),-bound.right}function transformLeftScreen(elementNode){anime({targets:elementNode,translateX:0,duration:0});const bound=elementNode.getBoundingClientRect();return anime({targets:elementNode,translateX:-bound.right,duration:0}),-bound.right}function onStartAnimation(){anime.suspendWhenDocumentHidden=!1;const section=document.querySelector("#fullpage"),mainCover=section.querySelector("#fullpage .main_avatar > img"),subTitle=section.querySelector(".intro__title-sup"),title=section.querySelector(".intro__title"),des=section.querySelector(".intro__des");window.innerWidth<=1400&&(des.textContent="Lông mềm như nhung, mắt long lanh như ngọc.");const arrow=section.querySelector(".intro__arrow"),arrow_head=arrow.querySelector(".intro__arrowHead"),products=section.querySelectorAll(".hamster"),logo=document.querySelector(".header__logo > a");logo.style.transform="scale(0)";const hideElements=[mainCover,des,arrow,arrow_head,...products];let chars_title,chars_subTitle;anime({targets:hideElements,opacity:0,duration:0});let isDup=!1,isDup_duration=0,isDup_translateY=0,isDup_offset=0;splitTexts_TransformCenter_scale0();let toStart=setInterval(()=>{startAnimation&&(clearInterval(toStart),firstAppear(),setTimeout(()=>{secondAnimate()},4100))},200);function splitTexts_TransformCenter_scale0(){let chars=title.innerText.split(""),style='style="opacity: 0;transform-origin: top;"',dataIncluded;title.innerHTML=chars.map(re=>(dataIncluded="","o"==re.toLowerCase()&&(dataIncluded="data-o_span")," "!=re?`<span ${style} ${dataIncluded}>${re.toUpperCase()}</span>`:`<span ${style} ${dataIncluded}>&#160</span>`)).join(""),chars=subTitle.innerText.split(""),style='style="transform-origin: bottom;"',subTitle.innerHTML=chars.map(re=>" "!=re?`<span ${style};>${re}</span>`:`<span ${style}>&#160</span>`).join(""),chars_title=title.querySelectorAll("span"),chars_subTitle=subTitle.querySelectorAll("span"),transformCenterXY(subTitle),transformCenterX(title);let temp1=subTitle.getBoundingClientRect(),temp2=title.getBoundingClientRect();anime({targets:[title,subTitle],scale:0,duration:0}),temp1.y<temp2.y+temp2.height&&(isDup=!0,isDup_duration=300,isDup_translateY=Math.trunc(temp2.y+temp2.height-temp1.y),isDup_offset=1300)}function firstAppear(){var o_span,logo_span,o_spanY,o_spanHeight,logoY,logoHeight;let aa;function moveLeftThenRightAfter(){setTimeout(()=>{const eles=[...chars_subTitle,...chars_title,title,subTitle];for(let i of eles)i.removeAttribute("style");var animeTitle=anime({targets:title,loop:!0,translateX:50,direction:"alternate",easing:"easeInOutQuad",duration:15e3});animeToPause=[...animeToPause,animeTitle];var animeSubTitle=anime({targets:subTitle,translateX:-50,easing:"easeOutSine",duration:1e4});animeToPause=[...animeToPause,animeSubTitle],setTimeout(()=>{animeSubTitle1=anime({targets:subTitle,loop:!0,translateX:50,direction:"alternate",easing:"easeInOutQuad",duration:2e4}),animeToPause=[...animeToPause,animeSubTitle1]},5050)},4950)}anime({targets:title,scale:1,duration:0}),toSided||setTimeout(()=>{o_span=title.querySelector("*[data-o_span").getBoundingClientRect(),o_spanY=o_span.y-50,o_spanHeight=o_span.height,logo_span=logo.getBoundingClientRect(),logoY=logo_span.y,logoHeight=logo_span.height,logo.style.transform=`translateY(${o_spanY-logoY-logoHeight/2}px) translateX(${o_span.x-logo_span.x+o_span.width/2-logo_span.width/2}px) scale(0)`,setTimeout(()=>{if(!toSided){let logoAnime=anime({targets:logo,scale:[0,logoScale],duration:1200});animeToPause.push(logoAnime),setTimeout(()=>{if(!toSided){let logoAnime=anime({targets:logo,scale:0,opacity:0,duration:300,easing:"linear"});animeToPause.push(logoAnime),setTimeout(()=>{if(!toSided){let logoAnime=anime({targets:logo,translateX:[0,0],translateY:[0,0],scale:logoScale,opacity:1,duration:1400});animeToPause.push(logoAnime)}},1190)}},1460)}},1450)},10),anime.timeline({easing:"easeOutSine"}).add({targets:subTitle,scale:[0,3],duration:1200,easing:"easeOutBounce"}).add({targets:chars_subTitle,scale:anime.stagger([.5,1],{from:"center"}),delay:anime.stagger(30,{from:"center"}),duration:800},1e3).add({targets:isDup?subTitle:[],translateY:`+=${isDup_translateY}`,duration:isDup_duration},isDup_offset).add({targets:chars_title,translateY:[50,0],scaleY:anime.stagger([1.4,1],{from:"center"}),opacity:1,delay:anime.stagger(30,{from:"center"}),duration:300,easing:"easeOutCubic"},1300).add({targets:subTitle,translateX:0,translateY:0,scale:{value:1,easing:"easeOutBack"},easing:"easeInBack",duration:1100},3e3).add({targets:chars_subTitle,scale:1,duration:600},3e3).add({targets:title,translateX:0,easing:"easeInBack",duration:1100},3e3).add({targets:chars_title,scaleY:1,scaleX:anime.stagger([.2,1]),left:anime.stagger([0,-350]),duration:1100,easing:"easeInBack"},3e3).add({targets:chars_title,scaleX:1,left:0,duration:800,easing:"easeOutBack"}),moveLeftThenRightAfter()}function secondAnimate(){mainCover.style.transformOrigin="bottom",arrow.style.transformOrigin="left",arrow_head.style.transform="translateY(-50%)";for(let i of products)transformLeftScreen(i);let aa;transformLeftScreen(arrow),des.style.transformOrigin="top left",anime.timeline({easing:"easeOutSine"}).add({targets:mainCover,opacity:1,translateY:{value:["50%",0],easing:"easeOutBack"},duration:900,easing:"easeOutQuad"},0).add({targets:products,opacity:{value:1,easing:"easeOutCubic",duration:1e3},translateX:0,delay:anime.stagger(100),duration:2e3,easing:"easeOutElastic"},1e3).add({targets:arrow,scaleX:{value:[1,2.5],easing:"easeOutCirc"},translateX:0,opacity:{value:1,duration:300},duration:1e3,easing:"easeOutQuad"},1).add({targets:arrow,scaleX:1,translateX:-10,duration:1e3,easing:"easeOutElastic"},1e3).add({targets:arrow_head,scale:[0,1],translateX:{value:["100%",0],easing:"easeOutBounce"},rotate:{value:"1turn",easing:"easeOutElastic",delay:200,duration:1800},opacity:{value:1,duration:200},duration:800},750).add({targets:des,scale:[0,1],opacity:1,duration:1e3,easing:"easeOutExpo"},1150),setTimeout(()=>{var animeProducts=anime({targets:products,translateX:[0,30],opacity:[1,1],delay:anime.stagger(200),duration:1e3,easing:"easeInOutQuad",direction:"alternate",loop:!0});animeToPause=[...animeToPause,animeProducts]},3150),setTimeout(()=>{var animeArrow=anime({targets:arrow,translateX:[-10,0],opacity:[1,1],scaleX:[1,1],loop:!0,direction:"alternate",duration:1e3,easing:"easeInOutQuad"});animeToPause=[...animeToPause,animeArrow]},2050),setTimeout(()=>{var animeDes=anime({targets:des,loop:!0,opacity:[1,1],scale:[1,1],direction:"alternate",easing:"easeInOutQuad",translateX:8,duration:1e3});animeToPause=[...animeToPause,animeDes]},2450),setTimeout(()=>{var animeArrowHead=anime({targets:arrow_head,translateX:[0,20],scale:[1,1],opacity:[1,1],loop:!0,direction:"alternate",duration:1e3,easing:"easeInOutQuad"});animeToPause=[...animeToPause,animeArrowHead]},2700)}}function animationOnScroll(){function animateProducts(){const products=document.querySelectorAll(".section--three:not(.section--four) .product"),headers=document.querySelector(".product__headers");let isClicked=!1;headers.addEventListener("click",headersClick);let lastProduct=0;var quantity=getProductsQuantity();for(let i=0;i<Math.ceil(products.length/quantity);i++){let elements=[];for(let j=0;j<quantity;j++)products[lastProduct]&&(products[lastProduct].style.opacity="0",elements.push(products[lastProduct++]));let wp=new Waypoint({element:elements[0],handler:function(direction){if(wp.destroy(),!isClicked){let ani=anime({targets:elements,translateY:["100%","0%"],opacity:{value:1,easing:"easeOutQuad",duration:500},easing:"easeOutSine",delay:anime.stagger(100,{grid:[quantity,1],from:"center"}),duration:500});setTimeout(()=>{for(let i=0;i<elements.length;i++){const element=elements[i];element.style.opacity="",element.style.transform=""}},500+100*quantity)}},offset:window.innerHeight-2*parseInt(window.getComputedStyle(elements[0]).height)/3})}function headersClick(e){const _li=e.target.closest("li");_li&&_li!=headers.querySelector("li")&&(isClicked=!0,headers.removeEventListener("click",headersClick),anime({targets:products,opacity:1,duration:0}))}window.addEventListener("resize",e=>{quantity=getProductsQuantity()})}function animateProductHeaders(){const headerTab=document.querySelector(".product__headers"),headers=headerTab.querySelectorAll(".product__header"),navTab=headerTab.querySelector(".product__header-nav"),nav=navTab.querySelector(".nav"),titles=document.querySelectorAll(".main-title"),subTitles=document.querySelectorAll(".sub-title"),texts=[...titles,...subTitles],productTips=document.querySelectorAll(".section--four .product"),carouselBtnSection4=document.querySelectorAll(".section--four button"),collections=document.querySelectorAll(".section--five .collection"),whyBanner=document.querySelector(".section--final .introduce__deepBG-img"),whyBanner_subtitle=document.querySelector(".section--final .title> span"),whyBanner_title=document.querySelector(".section--final .title> .shop_name"),reasons=document.querySelectorAll(".section--final .reason"),reason_title=document.querySelectorAll(".section--final .reason__label"),reason_subTitle=document.querySelectorAll(".section--final .reason__des"),footer=document.querySelector("footer"),hideElements=[...headers,nav,navTab,...texts,...productTips,...carouselBtnSection4,...collections,whyBanner,whyBanner_subtitle,whyBanner_title,...reasons,...reason_title,...reason_subTitle,footer];anime({targets:hideElements,opacity:0,duration:0}),setTimeout(()=>{transformLeftScreen(nav)},900),setTimeout(()=>{let wp=new Waypoint({element:headerTab,handler:d=>{"down"==d&&(wp.destroy(),anime({targets:headers,scale:[0,1],opacity:1,duration:800,delay:anime.stagger(60),easing:"easeOutBounce"}),anime({targets:navTab,translateY:["100%",0],opacity:[0,1],duration:600,easing:"easeOutQuint"}),anime({targets:nav,translateX:0,opacity:[0,1],delay:350,duration:1200}))},offset:"86%"}),wp1=new Waypoint({element:productTips[0],handler:d=>{"down"==d&&(wp1.destroy(),anime({targets:productTips,opacity:1,scale:[0,1],easing:"easeOutQuad",duration:700}))},offset:window.innerHeight-productTips[0].offsetHeight}),wp2=new Waypoint({element:carouselBtnSection4[0],handler:d=>{"down"==d&&(wp2.destroy(),anime({targets:carouselBtnSection4,opacity:[0,1],easing:"easeOutQuad",duration:500}))},offset:"86%"}),wp3=new Waypoint({element:collections[0],handler:d=>{"down"==d&&(wp3.destroy(),anime({targets:collections[0],opacity:[0,1],translateX:["-100%",0],duration:700,easing:"easeOutCubic"}),anime({targets:collections[1],opacity:[0,1],translateX:["100%",0],duration:700,easing:"easeOutCubic"}))},offset:window.innerHeight-collections[0].offsetHeight}),wp4=new Waypoint({element:whyBanner,handler:d=>{"down"==d&&(wp4.destroy(),anime({targets:whyBanner,duration:1800,scaleY:[0,1],translateY:{value:["-40%",0]},opacity:{value:[0,1],duration:800,easing:"easeOutSine"}}),anime({targets:whyBanner_subtitle,delay:300,translateX:{value:["100%",0],easing:"easeOutElastic",duration:1600},scaleX:{value:[2,1],easing:"easeOutElastic",duration:1600},opacity:{value:[0,1],easing:"easeOutSine"},easing:"easeOutExpo",duration:800}),anime({targets:whyBanner_title,delay:300,scaleX:{value:[2,1],easing:"easeOutElastic",duration:1600},translateX:{value:["-100%",0],easing:"easeOutElastic",duration:1600},opacity:{value:[0,1],easing:"easeOutSine"},easing:"easeOutExpo",duration:1e3}))},offset:window.innerHeight-whyBanner.offsetHeight}),wp5=new Waypoint({element:reasons[0],handler:d=>{"down"==d&&(wp5.destroy(),anime({targets:reasons[0],translateX:["100%",0],translateY:["-50%",0],opacity:[0,1],duration:1400}),anime({targets:reasons[1],translateY:["-50%",0],opacity:[0,1],duration:1400}),anime({targets:reasons[2],translateX:["-100%",0],translateY:["-50%",0],opacity:[0,1],duration:1400}),setTimeout(()=>{anime({targets:reason_title,scale:{value:[0,1],duration:1200},opacity:[0,1],delay:anime.stagger(150,{from:"center"})}),setTimeout(()=>{anime({targets:reason_subTitle,scale:{value:[0,1],duration:1500},opacity:[0,1],delay:anime.stagger(160,{from:"center"})})},100)},500))},offset:window.innerHeight-reasons[0].offsetHeight}),wp6=new Waypoint({element:footer,handler:d=>{"down"==d&&(wp6.destroy(),anime({targets:footer,translateY:["100%",0],opacity:[0,1],duration:1500}))},offset:window.innerHeight-footer.offsetHeight/2});for(let i of titles){let wp=new Waypoint({element:i,handler:d=>{"down"==d&&(wp.destroy(),anime({targets:i,opacity:[0,1],translateY:["100%",0],easing:"easeOutQuart"}))},offset:"86%"})}for(let i of subTitles){let wp=new Waypoint({element:i,handler:d=>{"down"==d&&(wp.destroy(),anime({targets:i,opacity:[0,1],translateY:["-100%",0],easing:"easeOutQuart"}))},offset:"86%"})}},1e3)}animateProducts(),animateProductHeaders()}function scrollFirstPage_and_header(){var keys={37:1,38:1,39:1,40:1};function preventDefault(e){e.preventDefault()}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}var supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}}))}catch(e){}var wheelOpt=!!supportsPassive&&{passive:!1},wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel";function disableScroll(){window.addEventListener("DOMMouseScroll",preventDefault,!1),window.addEventListener(wheelEvent,preventDefault,wheelOpt),window.addEventListener("touchmove",preventDefault,wheelOpt),window.addEventListener("keydown",preventDefaultForScrollKeys,!1)}function enableScroll(){window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.removeEventListener(wheelEvent,preventDefault,wheelOpt),window.removeEventListener("touchmove",preventDefault,wheelOpt),window.removeEventListener("keydown",preventDefaultForScrollKeys,!1)}const headerControl={items:document.querySelectorAll(".header__item"),hide:function(){for(let i of this.items)transformCenterX(i),i.style.opacity="0"},showAnimate:function(){headerHide&&headerHide.pause(),headerShow=anime({targets:this.items,translateX:0,scale:{value:[0,1],duration:1200},rotate:["1turn","0turn"],opacity:{value:1,easing:"easeOutQuart",duration:800},delay:anime.stagger(60,{from:"last"}),duration:1600})},hideAnimate:function(){headerShow&&headerShow.pause(),headerHide=anime({targets:this.items,translateX:function(el,i){return getTransformCenterX(el)},scale:0,rotate:"1turn",opacity:0,delay:anime.stagger(60,{from:"last"}),easing:"easeOutSine",duration:500})}},animeToPauseControl_pause=function(){if(animeToPauseControlTimeOut&&clearTimeout(animeToPauseControlTimeOut),animeToPause[0])for(let i of animeToPause)i.pause();animeToPauseControlTimeOut=setTimeout(()=>{if(animeToPause[0])for(let i of animeToPause)i.pause()},1e4)},animeToPauseControl_play=function(){if(clearTimeout(animeToPauseControlTimeOut),animeToPause[0])for(let i of animeToPause)i.play()};function animateSectionTwo(){const section=document.querySelector(".section--two"),imgs=section.querySelectorAll(".slider ul li > .cover .cover_wrapper > img"),sub_titles=section.querySelectorAll(".slider ul li > .content >.sub-title"),titles=section.querySelectorAll(".slider ul li > .content >.title"),btns=section.querySelectorAll(".slider ul li > .content > .btn"),dots=section.querySelector(".flickity-page-dots"),hideElements=[section,...imgs,...sub_titles,...titles,...btns,dots];anime({targets:hideElements,opacity:0,duration:0}),setTimeout(()=>{anime({targets:dots,opacity:1,translateY:["100%",0],delay:1700,easing:"easeOutSine",duration:1e3}),anime({targets:btns,opacity:{value:1,easing:"easeOutSine"},scale:[0,1],translateX:{value:["-400px",0],duration:1500},delay:1700,duration:1200}),anime({targets:titles,opacity:{value:1,easing:"easeOutSine"},scale:[0,1],translateX:{value:["-400px",0],duration:1500},delay:1600,duration:1200}),anime({targets:sub_titles,opacity:{value:1,easing:"easeOutSine"},scale:[0,1],translateX:{value:["-400px",0],duration:1e3},delay:1500,duration:1200}),anime({targets:imgs,opacity:1,translateY:["100%",0],scale:{value:[0,1],duration:1200},easing:"easeOutExpo",delay:1e3,duration:1200}),anime({targets:section,translateY:["-100%",0],opacity:1,easing:"easeOutCubic",duration:1e3})},1e3*delay)}var headerShow,headerHide,animeToPauseControlTimeOut;headerControl.hide();var isScrolling=!1,timeOutOnWheel,nextpage=[fullpage.nextElementSibling];fullpage.nextElementSibling.nextElementSibling&&(nextpage=[...nextpage,fullpage.nextElementSibling.nextElementSibling],fullpage.nextElementSibling.nextElementSibling.nextElementSibling&&(nextpage=[...nextpage,fullpage.nextElementSibling.nextElementSibling.nextElementSibling])),toSided=!1,toSidedCompletely=!1,disableScroll();let interval=setInterval(()=>{startAnimation&&(clearInterval(interval),window.addEventListener("wheel",onWheelFunc))},200);const delay=1;function onWheelFunc(e,re){var key=!e.shiftKey&&!e.ctrlKey;key&&e.deltaY>0&&!toSided||re?(toSided=!0,addActiveBody(),animateLogoRemove(),headerControl.showAnimate(),animeToPauseControl_pause(),anime({targets:fullpage,translateX:"-100%",duration:1e3*delay,easing:"easeOutBounce"}),anime({targets:nextpage,translateX:["100%","0%"],duration:1e3*delay,easing:"easeOutBounce"}),timeOutOnWheel=setTimeout(()=>{toSidedCompletely=!0,enableScroll()},1e3*delay),animatedAfterScroll||(animationOnScroll(),animatedAfterScroll=!0),animateSectionTwo()):key&&window.scrollY<2&&e.deltaY<0&&toSided&&(toSided=!1,headerControl.hideAnimate(),animeToPauseControl_play(),toSidedCompletely=!1,clearTimeout(timeOutOnWheel),removeActiveBody(),window.removeEventListener("wheel",onWheelFunc),disableScroll(),animateLogo(),anime({targets:fullpage,translateX:0,duration:1800*delay}),setTimeout(()=>{window.addEventListener("wheel",onWheelFunc)},1800*delay))}function animateLogo(){anime({targets:".header__logo>a",scale:logoScale,translateX:0,translateY:0,opacity:1,duration:1800*delay})}function animateLogoRemove(){anime({targets:".header__logo>a",scale:1,translateX:0,translateY:0,opacity:1,duration:1e3*delay,easing:"easeOutBounce"})}function addActiveBody(){document.body.classList.add("active")}function removeActiveBody(){document.body.classList.remove("active")}document.querySelector(".intro__arrowHead").onclick=()=>{onWheelFunc({},!0)}}function productsQuantityOnResize(){var quantity=0;function assignNewWidth(e,re){let quantityNew=getProductsQuantity();if(quantityNew<1&&(quantityNew=1),quantityNew!=quantity||re){quantity=quantityNew;for(let i of document.querySelectorAll(".section--three:not(.section--four) .product"))i.style.width=`calc(100% / ${quantity})`}}assignNewWidth({},!0),window.addEventListener("resize",assignNewWidth)}function getProductsQuantity(){return Math.round(window.innerWidth/300)}function loadDataBase(){function loadProducts(){let products=[],id=0;return products.push(new Product({type:"pet",name:"Shen",species:"hamster",description:"",sold:!1,cover:["213684313_208641747848558_1266526646951295689_n.jpg","211338192_991661711585727_800165525845538475_n.jpg","206889354_4096671060448977_6573253923774844042_n.jpg"],liked:35,gender:"Cái"})),products.push(new Product({type:"pet",name:"Jelly",species:"hamster",description:"Mẹ bé này đẻ 3 đứa, nuôi xong tới lúc 3 đứa trưởng thành cái mẹ nó mất luôn. 2 anh em của bé này em cho rồi, bé này em cũng cho nốt luôn rồi. Nên không mua được đâu :>",cover:["240410149_343664287540359_9143547600771012299_n.jpg","239536154_274446010872711_5638786650459763330_n.jpg","240347609_536879677567707_5464533897103608985_n.jpg"],sold:!1,liked:65})),products.push(new Product({type:"pet",name:"Bungerbeep",species:"hamster",description:"",cover:["mod_article1407019_6.jpg","mod_article1407019_6.jpg"],sold:!1})),products.push(new Product({type:"pet",name:"Candy",species:"hamster",description:"",cover:["2a206tz41r821.jpg","sjypdc4yyqz51.jpg"],sold:!1})),products.push(new Product({type:"pet",name:"Inkysmush",species:"hamster",description:"",cover:["h1.jpg","h2.jpg","tumblr_pk05weur2t1wpb43co1_1280.jpg"],sold:!1})),products.push(new Product({type:"pet",name:"Frosty",species:"rabbit",description:"Bé này mình từng nuôi, nhưng bán rồi do nó quậy với ngu quá.",cover:["tho1.jpg","tho2.jpg","tho3.jpg"],sold:!1,gender:"Đực",liked:87})),products.push(new Product({type:"pet",name:"Kimblesmush",species:"rabbit",description:"Bé này mình từng nuôi, dễ thương cực kỳ, do là lần đầu nuôi nên không biết chăm nên bé ra đi lâu rồi, buồn hiu :<",cover:["tho4.jpg","tho5.jpg","tho6.jpg"],sold:!1,gender:"Cái",liked:21})),products.push(new Product({type:"pet",name:"Buddy",species:"guineaPig",description:"",cover:["guine4.jpg","guine3.jpg","guine2.jpg"],sold:!1})),products.push(new Product({type:"pet",name:"Gingles",species:"guineaPig",description:"Thấy 2 quả lựu đạn của toy seo nè :> Xịn xò chưa :> Hong lo ế luôn nhé hehe...",cover:["238242680_395860058760769_1789480820271904931_n.jpg","239936000_1028158577953728_6111259186228021192_n.jpg","235522526_190182103103456_3087002335719432959_n.jpg"],sold:!1,liked:12})),products.push(new Product({type:"stuff",name:"Lồng xách tay hamster",species:"stuff",description:"",cover:["240712949_373724217632972_7115355396831851746_n.jpg","237638218_1654297514917779_159637990097640203_n.jpg","239412934_558648435337179_1622525699389735322_n.jpg"],sold:!1,liked:98})),products.push(new Product({type:"stuff",name:"Lồng mica 1 tầng",species:"stuff",description:"",cover:["240706865_428248251953898_2301815411140268593_n.jpg","217306267_568187031014782_3933954885757458550_n.jpg","241233807_583962672757929_6516536010358666665_n.jpg"],sold:!1,liked:9})),products.push(new Product({type:"stuff",name:"Lồng hamster cở lớn",species:"stuff",description:"",cover:["240644915_611105953389516_6431140633690371843_n.jpg","240727998_1204996629984504_280416794015873192_n.jpg","240450870_407175907417670_1522255374927818839_n.jpg"],sold:!1,liked:2})),products.push(new Product({type:"stuff",name:"Đĩa bay xách tay",species:"stuff",description:"",cover:["240869409_166331788916045_5353426098667656688_n.jpg","237707294_241492521189764_528667470908003839_n.jpg","239902267_349066363527210_3644172529458450002_n.jpg"],sold:!1,liked:121})),products.push(new Product({type:"stuff",name:"Lồng hamster mini",species:"stuff",description:"",cover:["240511411_984667878765184_9135766092212904178_n.jpg","240417495_273709880952581_8301977592304155001_n.jpg","240530574_285215429609998_5446182372936133211_n.jpg"],sold:!1,liked:77})),products.push(new Product({type:"stuff",name:"Lồng hamster hoàng tử",species:"stuff",description:"",cover:["221615015_425135571978097_5012808734459016468_n.jpg","218892031_137286868545161_4949815104839960171_n.jpg","221187438_339061311213029_4307759676914558066_n.jpg"],sold:!1,liked:93})),products.push(new Product({type:"stuff",name:"Xích đu đi đu đưa",species:"toy",description:"",cover:["239635543_284800442984407_8147836509436470177_n.jpg","237469137_4550285111658765_3807004600942597620_n.jpg","239723828_1008033753351858_675537763499228424_n.jpg"],sold:!1,liked:66})),products.push(new Product({type:"stuff",name:"Cầu nhúng nhảy hamster",species:"toy",description:"",cover:["240568360_4141414112653183_3522124453029375801_n.jpg","240491822_978428669643664_721282927413706345_n.jpg","240146298_378656683698960_1015229008723299121_n.jpg"],sold:!0,liked:24})),products.push(new Product({type:"stuff",name:"Cầu thang sắc màu",species:"toy",description:"",cover:["240756195_392139655607875_3798428489968504726_n.jpg","234175191_939225249959194_1989445639139581245_n.jpg","240617146_598069554541210_6327869871797745427_n.jpg"],sold:!1,liked:85})),products.push(new Product({type:"stuff",name:"Bóng tập đi hamster",species:"toy",description:"",cover:["240620257_817059132312849_7177882713037891372_n.jpg","240172424_1208590149654624_8334899312535823269_n.jpg","240475886_202249605296491_250015768894001715_n.jpg"],sold:!1,liked:22})),products.push(new Product({type:"stuff",name:"Đường hầm trốm tìm",species:"toy",description:"",cover:["240600632_141563501429104_5053708829848779398_n.jpg","237422124_366043121535432_2656124276821208382_n.jpg","240392284_440784303845666_6470988143877339205_n.jpg"],sold:Math.random()<.2,liked:28})),products;function Product(obj){let staticUrl={pet:"./img/product/hamster/",stuff:"./img/product/stuff/"};if(obj.type||(obj.type="pet"),obj.species||(obj.species="hamster"),obj.name||(obj.name="Name"),obj.price||(obj.price=1e3*Math.round(100*Math.random())),obj.currency||(obj.currency="d"),obj.description||(obj.description="Đửng mua, hổng bán đâu. Web này làm chơi thôi, có đâu mà bán mà mua :>"),obj.sold||(obj.sold=!1),obj.id||(obj.id=id++),obj.gender||("pet"==obj.type?obj.gender="Đực":obj.gender="Gỗ"),obj.liked||(obj.liked=Math.round(100*Math.random())),!obj.cover||obj.cover&&obj.cover.length<1)obj.cover=[staticUrl[obj.type]+"default.jpg"];else for(let i in obj.cover)obj.cover[i].includes("http")?obj.cover[i]=obj.cover[i]:obj.cover[i]=staticUrl[obj.type]+obj.cover[i];if(!obj.birth){let today=new Date;today=new Date(today.getFullYear(),today.getMonth(),today.getDate()-Math.trunc(30*Math.random())),obj.birth=`${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}`}this.type=obj.type,this.species=obj.species,this.name=obj.name.trim(),this.gender=obj.gender,this.price=obj.price,this.currency=obj.currency,this.description=obj.description,this.sold=obj.sold,this.birth=obj.birth,this.id=obj.id,this.cover=obj.cover,this.liked=obj.liked}}function productGenerateHtml(obj){let isNew=((new Date).getTime()-new Date(getUtc(obj.birth)).getTime())/1e3/60/60/24<7?'<div class="bestSeller"><i class="ti-thumb-up"></i> Mới</div>':"",isSold=obj.sold?'<div class="soldArchive">Đã bán</div>':"",html=document.createElement("li");return obj.sold&&html.classList.add("sold"),html.classList.add("product"),html.setAttribute("data-my-id",obj.id),html.setAttribute("data-my-type",obj.type),html.setAttribute("data-my-species",obj.species),html.innerHTML=`\n                    <div class="background_card"></div>\n                    <div class="archives">\n                      ${isNew}\n                      ${isSold}\n                      <div class="viewAndAddCart dff">\n                        <button class="btn btn--round btn--noOutline viewAndAddCart__view" onclick="modalController.modalShowProduct(${obj.id})">\n                          <span class="text">Xem nhanh</span><span class="icon"><i class="ti-eye"></i></span>\n                        </button>\n                        <button class="btn btn--round btn--noOutline viewAndAddCart__cart" data-cant_click>\n                          <span class="icon"><i class="ti-shopping-cart"></i></span><span class="text">Thêm vào giỏ</span>\n                        </button>\n                      </div>      \n                    </div>\n                    <div class="product__cover">\n                      <div class="pt">\n                        <img src="${obj.cover[0]}" alt="" class="product__cover-img" />\n                      </div>\n                    </div>\n                    <div class="product__info">\n                      <div class="emotion" onclick="reactionFunc(this,${obj.id})">\n                        <i class="fas fa-heart"></i>\n                        <i class="far fa-heart"></i>\n                        <div class="amount">${obj.liked}</div>\n                      </div>\n                      <div class="info">\n                        <div class="name">${obj.name}</div>\n                        <div class="price">${obj.price+obj.currency}</div>\n                      </div>\n                    </div>`,html;function getUtc(time){let a=time.split("/");return`${a[1]}/${a[0]}/${a[2]}`}}function productToHtml(container,html){container.appendChild(html)}allProducts=loadProducts();const container=document.querySelector(".section--three:not(.section--four) .products");container.innerHTML="";for(let i of allProducts)productToHtml(container,productGenerateHtml(i))}function modalController(products){function modalProduct(obj){const imgs=obj.cover.map(re=>`<img src="${re}" alt="" class="carousel-cell" />`).join("");let birth=`<p>Ngày sinh: ${obj.birth}</p>`,gender=`<p>Giới tính: ${obj.gender}</p>`;"pet"!=obj.type&&(birth=`<p>Ngày sản xuất: ${obj.birth}</p>`,gender=`<p>Chất liệu: ${obj.gender}</p>`);let isLiked="";currentLiked&&currentLiked.split(",").find(re=>re==obj.id)&&(isLiked="active");const product=document.createElement("div");return product.classList.add("modal__product"),product.innerHTML=`\n                    <div class="randomThings">\n                      <div class="randomThing randomThing--1"></div>\n                    </div>\n                    <div class="modal__product-wrapper">\n                      <div class="modal__product-content modal__product-cover">\n                        <div class="main-carousel3 modal__product-coverBox">\n                          ${imgs}\n                        </div>\n                      </div>\n                      <div class="modal__product-content modal__product-infomation">\n                        <div class="modal__product-info">\n                          <p class="modal__product-name">${obj.name}</p>\n                          <p class="modal__product-price">${obj.price+obj.currency}</p>\n                          <div class="modal__product-des">\n                          ${birth}\n                          ${gender}\n                            <p>\n                              ${obj.description}\n                            </p>\n                          </div>\n                        </div>\n                        <div class="modal__product-purchase">\n                          <div class="modal__product-addCart">\n                            <button class="btn btn--round btn--noOutline">Thêm vào giỏ</button>\n                          </div>\n                          <div class="modal__product-emotion">\n                            <button class="btn btn--round btn--noOutline ${isLiked}" onclick="reactionFunc(this,${obj.id})">\n                              <i class="far fa-heart"></i>\n                              <i class="fas fa-heart"></i>\n                            </button>\n                          </div>\n                        </div>\n                        <div class="modal__product-categories">Xếp loại: <a href="javascript:;">${obj.species}</a></div>\n                      </div>\n                    </div>\n                    <div class="modal__product-close" onclick="modalController.hide()"></div>`,product}function modalCantClick(){const popup=document.createElement("div");return popup.classList.add("popupError"),popup.innerHTML='\n                    <div class="popupError__P">\n                      <div class="popupError__P-phone">\n                        <div class="whiteScreen">\n                          <div class="topBunnyEar"></div>\n\n                          <div class="roundShape">\n                            <div class="xShape" style="--rotate: 45deg; --xShape-delay: 0.4s"></div>\n\n                            <div class="xShape" style="--rotate: -45deg; --xShape-delay: 0.2s"></div>\n                          </div>\n\n                          <div class="msgBox">\n                            <div class="msgBox__inner" style="--xShape-delay: 0.6000000000000001s">\n                              <div class="roundShape roundShape--msg">\n                                <div class="xShape" style="--rotate: 0deg; --xShape-delay: 0.8s"></div>\n                              </div>\n                            </div>\n\n                            <div class="msgBox__inner" style="--xShape-delay: 0.7s">\n                              <div class="roundShape roundShape--msg">\n                                <div class="xShape" style="--rotate: 0deg; --xShape-delay: 0.8999999999999999s"></div>\n                              </div>\n                            </div>\n\n                            <div class="msgBox__inner" style="--xShape-delay: 0.8s">\n                              <div class="roundShape roundShape--msg">\n                                <div class="xShape" style="--rotate: 0deg; --xShape-delay: 1s"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class="popupError__P-lineWFlower">\n                        <div class="line">\n                          <div class="flower1">\n                            <div class="flower1__canh"></div>\n                            <div class="flower1__hoa"></div>\n                          </div>\n\n                          <div class="flower2">\n                            <div class="flower2__canh"></div>\n\n                            <div class="flower2__hoa-sub flower2__hoa-subP1"></div>\n                            <div class="flower2__hoa"></div>\n                            <div class="flower2__hoa-sub flower2__hoa-subP2"></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class="popupError__404">\n                      <div class="popupError__404-inner">\n                        <div class="popupError__4">\n                          <div class="line-u" style="--timeL-u: 0.2s"></div>\n                          <div class="line-u" style="--timeL-u: 0.5s"></div>\n                          <div class="line-4"></div>\n                        </div>\n                        <div class="popupError__0">\n                          <div class="line-u0 line-u0--1"></div>\n                          <div class="line-u0 line-u0--2"></div>\n                          <div class="line-u0 line-u0--3"></div>\n                        </div>\n                        <div class="popupError__4">\n                          <div class="line-u" style="--timeL-u: 0.30000000000000004s"></div>\n                          <div class="line-u" style="--timeL-u: 0.6000000000000001s"></div>\n                          <div class="line-4"></div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <p class="popupError__desc">Không có đâu, đừng click :))</p>',popup}modalController.show=html=>{document.body.classList.add("modal-active"),content.innerHTML="",content.appendChild(html)},modalController.hide=()=>{document.body.classList.remove("modal-active"),setTimeout(()=>{content.innerHTML=""},300)},modalController.modalShowProduct=e=>{const product=products.find(re=>re.id==e);modalController.show(modalProduct(product)),flickityFunc(".main-carousel3")},modalController.modalShowError=()=>{modalController.show(modalCantClick())};const modal=document.querySelector(".modal");var isDown=!1;modal.onmousedown=e=>{(e.target.closest(".modal__overlay")||e.target.closest(".modal-inner")&&!e.target.closest(".modal__product")&&!e.target.closest(".modal-loader")&&!e.target.closest(".popupError"))&&(isDown=!0)},modal.onmouseup=e=>{isDown&&(e.target.closest(".modal__overlay")||e.target.closest(".modal-inner")&&!e.target.closest(".modal__product"))&&(isDown=!1,modalController.hide())};const content=modal.querySelector(".modal-inner"),cantClickEle=document.querySelectorAll("*[data-cant_click]");for(let i of cantClickEle)i.href&&(i.href="javascript:;"),i.setAttribute("onclick","modalController.modalShowError()")}function bottomBGAnimateOnScroll(){const backgrounds=document.querySelectorAll(".bottom_BG"),strength=2;if(backgrounds[0]){function movingBackground(){for(let i of backgrounds)i.style.backgroundPosition=`${window.scrollY/2}px auto`}window.addEventListener("scroll",movingBackground)}}function flickityFunc(class_name){if(class_name)new Flickity(class_name,{wrapAround:!0});else{let carousel1=document.querySelector(".main-carousel"),carousel2=document.querySelector(".main-carousel2");var flickity=new Flickity(carousel1,{wrapAround:!0,autoPlay:5e3}),flickity2=new Flickity(carousel2,{wrapAround:!0,selectedAttraction:.01,friction:.1,prevNextButtons:!1,autoPlay:5e3});carousel2.addEventListener("mouseleave",()=>{flickity2.playPlayer()})}}function reactionFunc(e,id){const target=e;if(target.classList.contains("active")){let likeId=id;currentLiked=currentLiked.split(",").filter(re=>parseInt(re)!=likeId).join(","),Cookies.set("liked",currentLiked,{expires:365,path:""}),target.classList.remove("active"),document.querySelector(`*[data-my-id='${id}'] .emotion`).classList.remove("active");let amount=target.querySelector(".amount")||document.querySelector(`*[data-my-id='${id}'] .amount`);amount&&(amount.innerText=parseInt(amount.innerText)-1)}else{if(currentLiked){let likeId=id;currentLiked.split(",").find(re=>re==likeId)||(currentLiked=currentLiked+id+",",Cookies.set("liked",currentLiked,{expires:365,path:""}))}else currentLiked=id+",",Cookies.set("liked",currentLiked,{expires:365,path:""});target.classList.add("active"),document.querySelector(`*[data-my-id='${id}'] .emotion`).classList.add("active");let amount=target.querySelector(".amount")||document.querySelector(`*[data-my-id='${id}'] .amount`);amount&&(amount.innerText=parseInt(amount.innerText)+1)}}function isotopeFunc(){var grid=document.querySelector(".isotope"),iso=new Isotope(grid,{itemSelector:".product",layoutMode:"fitRows"}),groupBtns;document.querySelector(".product__headers").onclick=e=>{const btn=e.target.closest(".product__header");if(btn){const filterType=btn.getAttribute("data-myFilter");"*"==filterType?iso.arrange({filter:"*"}):iso.arrange({filter:function(ele){return ele.getAttribute("data-my-species")==filterType}})}}}function productsNavigation(){const nav=document.querySelector(".product__header-nav>.nav"),products=document.querySelectorAll(".product__header");let lastEleClicked=null;for(let i of products)i.classList.remove("active"),i.onclick=changeNavLeft;function changeNavLeft(){lastEleClicked&&lastEleClicked.classList.remove("active"),this.classList.add("active");let left=this.offsetLeft,wid=this.offsetWidth+"px";anime({targets:nav,translateX:left,duration:700}),nav.style.width=`${wid}`,lastEleClicked=this}products[0].click(),lastEleClicked=products[0]}function setEmotion(arr){const products=document.querySelectorAll(".section--three:not(.section--four) .products .product");for(let i in arr)for(let j of products)if(j.getAttribute("data-my-id")==arr[i]){reactionFunc(j.querySelector(".emotion"),arr[i]);break}}function refreshWaypointFunc(){const delay_for_waypointJs=450;let timeOut;window.addEventListener("resize",()=>{timeOut&&clearTimeout(timeOut),timeOut=setTimeout(()=>{Waypoint.refreshAll()},450)}),window.addEventListener("mouseup",()=>{timeOut&&clearTimeout(timeOut),timeOut=setTimeout(()=>{Waypoint.refreshAll()},450)})}function checkAllAddOns(){let condition=typeof anime&&typeof Flickity&&typeof Waypoint&&typeof Cookies&&typeof Isotope,interval=setInterval(()=>{condition&&(clearInterval(interval),allAddOnsLoaded=!0)},50)}const fullpage=document.getElementById("fullpage"),logoScale=1.8;var toSided=!1,toSidedCompletely=!1,startAnimation=!1,startAnimationDone=!1,animatedAfterScroll=!1,animeToPause=[];let allProducts=[];var currentLiked=Cookies.get("liked"),allAddOnsLoaded=!1;checkAllAddOns();let interval=setInterval(()=>{allAddOnsLoaded&&(clearInterval(interval),loadDataBase(),flickityFunc(),productsQuantityOnResize(),productsNavigation(),currentLiked&&setEmotion(currentLiked.split(",")),modalController(allProducts),isotopeFunc(),refreshWaypointFunc(),onStartAnimation(),scrollFirstPage_and_header())},50);document.onreadystatechange=()=>{"complete"===document.readyState&&(loaderControl.hide(),setTimeout(()=>{startAnimation=!0},300))};