const loaderControl={show:()=>{document.body.classList.add("modal-active");let modal_inner=document.querySelector(".modal-inner");modal_inner.style.transition="0s",modal_inner.innerHTML='\n<div class="modal-loader">\n  <div class="modal-loader__dots">\n    <div class="modal-loader__dots-dot"></div>\n    <div class="modal-loader__dots-dot"></div>\n    <div class="modal-loader__dots-dot"></div>\n  </div>\n</div>',setTimeout(()=>{modal_inner.style.transition=""},50)},hide:()=>{document.body.classList.remove("modal-active");let modal_inner=document.querySelector(".modal-inner"),modal_overlay=document.querySelector(".modal__overlay");modal_overlay.style.transition="0s",setTimeout(()=>{modal_inner.innerHTML="",modal_overlay.style.transition=""},500)}};function getProductsQuantity(){let toReturn=Math.ceil(window.innerHeight/350);return toReturn<1?1:toReturn}function productsQuantityOnResize(){var quantity=0;function assignNewWidth(e,re){let quantityNew=getProductsQuantity();if(quantityNew<1&&(quantityNew=1),quantityNew!=quantity||re){quantity=quantityNew;for(let i of document.querySelectorAll(".gallery__item"))i.style.height=`calc(100% / ${quantity})`}}assignNewWidth({},!0),window.addEventListener("resize",assignNewWidth)}function loadDataBase(amount){function generateHtmlLi(src){let li=document.createElement("li");return li.classList.add("gallery__item"),li.innerHTML=`<img src="${src}" class="gallery__item_img" alt="" onclick="modalController.modalShowError()" draggable="false" />`,li}const availableSrc=["../img/section1/1434683.jpg","../img/section1/793096.jpg","../img/hamster/pexels-juris-freidenfelds-2013665.jpg","../img/product/stuff/217306267_568187031014782_3933954885757458550_n.jpg","../img/product/stuff/218892031_137286868545161_4949815104839960171_n.jpg","../img/product/stuff/221187438_339061311213029_4307759676914558066_n.jpg","../img/product/stuff/234175191_939225249959194_1989445639139581245_n.jpg","../img/product/stuff/239412934_558648435337179_1622525699389735322_n.jpg","../img/product/stuff/240568360_4141414112653183_3522124453029375801_n.jpg","../img/product/hamster/tumblr_pk05weur2t1wpb43co1_1280.jpg","../img/product/hamster/guine2.jpg","../img/product/hamster/235522526_190182103103456_3087002335719432959_n.jpg","../img/product/hamster/guine4.jpg","../img/product/hamster/239936000_1028158577953728_6111259186228021192_n.jpg","../img/product/hamster/mod_article1407019_6.jpg","../img/product/hamster/240410149_343664287540359_9143547600771012299_n.jpg","../img/product/hamster/sjypdc4yyqz51.jpg","../img/product/hamster/206889354_4096671060448977_6573253923774844042_n.jpg"],container=document.querySelector(".gallery__items");for(let i=0;i<amount;i++){let src=Math.floor(Math.random()*availableSrc.length);container.appendChild(generateHtmlLi(availableSrc[src]))}}function ratioFromString(ratio){return{a:parseInt(ratio.slice(0,ratio.indexOf(":"))),b:parseInt(ratio.slice(ratio.indexOf(":")+1))}}function getRightDOM(elementNode){var bound;return elementNode.getBoundingClientRect().right}function getLeftDOM(elementNode){var bound;return elementNode.getBoundingClientRect().x}function myLayout_andLayoutControllerFunc(){function reAssignNewPosition(){function run(){maximum_scroll=0;const gutter=2,items=document.querySelectorAll(".gallery__item"),availableProductPRow=getProductsQuantity(),offsetTop=100/availableProductPRow,staticLeft=getLeftDOM(items[0]);let top=0,left=0,count=0;for(let ii=0;ii<Math.ceil(items.length/availableProductPRow);ii++){top=0;for(let jj=0;jj<availableProductPRow;jj++)if(count<items.length){const item=items[count];let ratio,ratioProcess=ratioFromString(item.getAttribute("data-ratio"));item.style.width=item.offsetHeight*(ratioProcess.a/ratioProcess.b)+"px",left=0,count>=availableProductPRow&&(left=getRightDOM(items[count-availableProductPRow])-staticLeft,left>maximum_scroll&&(maximum_scroll=left,maximum_scroll_element=item)),item.style.transition="0s";let _top=top,_left=left;item.style.top=_top+"%",item.style.left=`${_left}px`,top+=offsetTop,count++,item.style.paddingBottom="",item.style.paddingTop="",item.style.paddingLeft="",item.style.paddingRight="",availableProductPRow>1?(top==offsetTop?item.style.paddingBottom="2px":100==top?item.style.paddingTop="2px":(item.style.paddingBottom="2px",item.style.paddingTop="2px"),0==left?item.style.paddingRight="2px":(item.style.paddingRight="2px",item.style.paddingLeft="2px")):items.length>1&&(0==left?item.style.paddingRight="2px":(item.style.paddingRight="2px",item.style.paddingLeft="2px"))}}finalUpdateMaximumScroll(),layoutArranged||(layoutArranged=!0)}function finalUpdateMaximumScroll(){maximum_scroll&&(maximum_scroll=maximum_scroll-document.querySelector(".gallery__wrapper").offsetWidth+maximum_scroll_element.offsetWidth)}assignNewPositionTimeOut&&clearTimeout(assignNewPositionTimeOut),assignNewPositionTimeOut=setTimeout(run,delayForAssignNewPosition)}function layoutControl(){const container=document.querySelector(".gallery__items"),scroll_container=document.querySelector(".gallery__wrapper");let deltaX,deltaY,down,up;var animateAnime;let anime_duration,lastScrollValue,minScroll=90,nativeDeltaX,nativeDeltaY,isMousePc,scrollValue=0;function wheelFunc(e){deltaX=e.deltaX,deltaY=e.deltaY,down="down"==direction(deltaX)||"down"==direction(deltaY),up="up"==direction(deltaX)||"up"==direction(deltaY),nativeDeltaX=Math.abs(deltaX),nativeDeltaY=Math.abs(deltaY),anime_duration=0,isMousePc=(nativeDeltaX>90||nativeDeltaY>90)&&(lastScrollValue==nativeDeltaX||lastScrollValue==nativeDeltaY),isMousePc&&(anime_duration=nativeDeltaY||nativeDeltaX),(down||up)&&(scrollValue+=deltaY||deltaX,scrollValue<0?(scrollValue=0,animateTrigger(-scrollValue,2*nativeDeltaY||2*nativeDeltaX)):scrollValue<=maximum_scroll?animateTrigger(-scrollValue,anime_duration):scrollValue>maximum_scroll&&(scrollValue=maximum_scroll,animateTrigger(-scrollValue,2*nativeDeltaY||2*nativeDeltaX)),lastScrollValue=nativeDeltaY||nativeDeltaX)}function direction(delta){return delta<0?"up":delta>0?"down":"unknown"}function animateTrigger(translateX,duration){animateAnime=anime({targets:container,translateX:translateX,duration:duration,easing:"easeOutQuad"})}animateTrigger(0,0),scroll_container.addEventListener("wheel",wheelFunc)}let maximum_scroll=0,maximum_scroll_element,assignNewPositionTimeOut;reAssignNewPosition(),window.addEventListener("resize",reAssignNewPosition),layoutControl()}function modalController(){function modalCantClick(){const popup=document.createElement("div");return popup.classList.add("popupError"),popup.innerHTML='\n<div class="popupError__P">\n  <div class="popupError__P-phone">\n    <div class="whiteScreen">\n      <div class="topBunnyEar"></div>\n\n      <div class="roundShape">\n        <div class="xShape" style="--rotate: 45deg; --xShape-delay: 0.4s"></div>\n\n        <div class="xShape" style="--rotate: -45deg; --xShape-delay: 0.2s"></div>\n      </div>\n\n      <div class="msgBox">\n        <div class="msgBox__inner" style="--xShape-delay: 0.6000000000000001s">\n          <div class="roundShape roundShape--msg">\n            <div class="xShape" style="--rotate: 0deg; --xShape-delay: 0.8s"></div>\n          </div>\n        </div>\n\n        <div class="msgBox__inner" style="--xShape-delay: 0.7s">\n          <div class="roundShape roundShape--msg">\n            <div class="xShape" style="--rotate: 0deg; --xShape-delay: 0.8999999999999999s"></div>\n          </div>\n        </div>\n\n        <div class="msgBox__inner" style="--xShape-delay: 0.8s">\n          <div class="roundShape roundShape--msg">\n            <div class="xShape" style="--rotate: 0deg; --xShape-delay: 1s"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="popupError__P-lineWFlower">\n    <div class="line">\n      <div class="flower1">\n        <div class="flower1__canh"></div>\n        <div class="flower1__hoa"></div>\n      </div>\n\n      <div class="flower2">\n        <div class="flower2__canh"></div>\n\n        <div class="flower2__hoa-sub flower2__hoa-subP1"></div>\n        <div class="flower2__hoa"></div>\n        <div class="flower2__hoa-sub flower2__hoa-subP2"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="popupError__404">\n  <div class="popupError__404-inner">\n    <div class="popupError__4">\n      <div class="line-u" style="--timeL-u: 0.2s"></div>\n      <div class="line-u" style="--timeL-u: 0.5s"></div>\n      <div class="line-4"></div>\n    </div>\n    <div class="popupError__0">\n      <div class="line-u0 line-u0--1"></div>\n      <div class="line-u0 line-u0--2"></div>\n      <div class="line-u0 line-u0--3"></div>\n    </div>\n    <div class="popupError__4">\n      <div class="line-u" style="--timeL-u: 0.30000000000000004s"></div>\n      <div class="line-u" style="--timeL-u: 0.6000000000000001s"></div>\n      <div class="line-4"></div>\n    </div>\n  </div>\n</div>\n\n<p class="popupError__desc">Không có đâu, đừng click :))</p>',popup}modalController.show=html=>{document.body.classList.add("modal-active"),content.innerHTML="",content.appendChild(html)},modalController.hide=()=>{document.body.classList.remove("modal-active"),setTimeout(()=>{content.innerHTML=""},300)},modalController.modalShowError=()=>{modalController.show(modalCantClick())};const modal=document.querySelector(".modal");var isDown=!1;modal.onmousedown=e=>{(e.target.closest(".modal__overlay")||e.target.closest(".modal-inner")&&!e.target.closest(".modal__product")&&!e.target.closest(".modal-loader")&&!e.target.closest(".popupError"))&&(isDown=!0)},modal.onmouseup=e=>{isDown&&(e.target.closest(".modal__overlay")||e.target.closest(".modal-inner")&&!e.target.closest(".modal__product"))&&(isDown=!1,modalController.hide())};const content=modal.querySelector(".modal-inner"),cantClickEle=document.querySelectorAll("*[data-cant_click]");for(let i of cantClickEle)i.href&&(i.href="javascript:;"),i.setAttribute("onclick","modalController.modalShowError()")}function checkAllImgsLoaded(imgs){let totalImgs=imgs.length,loadedImgs=0;for(let i of imgs){let img=i.querySelector("img");img.complete?(reAssignNewWidthImg(i),loadedImgs++):img.onload=d=>{reAssignNewWidthImg(i),loadedImgs++}}let layoutInterVal=setInterval(()=>{loadedImgs==totalImgs&&(clearInterval(layoutInterVal),imgsLoaded=!0)},50)}function getRatio(a,b){let i=2;for(;i<=a&&i<=b;)a%i==0&&b%i==0?(a/=i,b/=i):i++;return`${a}:${b}`}function reAssignNewWidthImg(imgParent){let img=imgParent.querySelector("img");imgParent.style.width=img.offsetWidth+"px",imgParent.setAttribute("data-ratio",getRatio(imgParent.offsetWidth,imgParent.offsetHeight))}loadDataBase(500),productsQuantityOnResize(),modalController();const delayForAssignNewPosition=20,imgs=document.querySelectorAll(".gallery__item");let imgsLoaded=!1,layoutArranged=!1;checkAllImgsLoaded(imgs);let layoutInterVal=setInterval(()=>{imgsLoaded&&(clearInterval(layoutInterVal),myLayout_andLayoutControllerFunc())},50);document.onreadystatechange=()=>{if("complete"===document.readyState){let interval=setInterval(()=>{layoutArranged&&(clearInterval(interval),loaderControl.hide())},50)}};